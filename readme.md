# 《流浪地球》数字编年史互动博物馆

> *"希望是我们这个年代像钻石一样珍贵的东西。"*

一个基于 Three.js 的沉浸式 3D 互动体验，带你穿越《流浪地球》的宏大时空，见证人类文明的流浪征程。

## 🌟 项目特色

- **🎬 电影级视觉体验**: 从太阳系全景到地球特写的流畅镜头推进
- **🌍 3D 地球演化**: 实时展现地球从蓝色家园到流浪星球的变迁
- **⏰ 时间线互动**: 跨越 2500 年的编年史，每个时代都有独特的视觉效果
- **🚀 行星发动机**: 动态展示万座发动机的点火与推进效果
- **🎮 沉浸式交互**: 支持键盘快捷键和鼠标控制的流畅操作

## 🚀 快速开始

### 1. 启动本地服务器

```bash
# 在项目根目录下运行
python -m http.server 8000

# 或者使用 Node.js
npx serve .
```

### 2. 访问应用

打开浏览器访问：
- **主应用**: http://localhost:8000/index.html
- **独立版本**: http://localhost:8000/voyage-refactored.html
- **测试页面**: http://localhost:8000/test-refactored.html

## 🎮 使用指南

### 登录界面
1. 在黑色背景的终端界面中输入 `login`
2. 按回车键进入航程引导动画

### 航程体验
- **自动播放**: 动画会自动从太阳系全景推进到地球特写
- **跳过动画**: 点击右下角的"跳过"按钮或按 `ESC` 键
- **交互控制**: 
  - `空格键`: 暂停/播放动画
  - `R键`: 重置到初始状态
  - `C键`: 切换相机动画模式

### 3D 场景控制
- **鼠标拖拽**: 旋转视角
- **鼠标滚轮**: 缩放场景
- **右键拖拽**: 平移视角

## 📁 项目结构

```
blog/
├── index.html              # 主应用入口
├── voyage-refactored.html  # 独立版本
├── test-refactored.html    # 功能测试页面
├── css/
│   └── styles.css          # 主样式文件
├── js/
│   ├── auth.js            # 认证模块
│   ├── voyage-core.js     # 核心场景和渲染
│   ├── voyage-planets.js  # 太阳系和行星系统
│   ├── voyage-earth.js    # 地球特效和轨道
│   ├── voyage-animation.js # 动画控制和时间线
│   ├── voyage-main.js     # 主程序集成
│   └── voyage-legacy.js   # 原始版本备份
└── docs/
    ├── performance-summary.md      # 重构总结
    └── wandering-earth-chronicle.md # 编年史内容
```

## 🛠️ 技术架构

### 核心技术栈
- **Three.js**: 3D 场景渲染和动画
- **原生 JavaScript**: 模块化架构，无框架依赖
- **CSS3**: 现代样式和动画效果
- **HTML5**: 语义化结构

### 模块化设计
项目采用高度模块化的架构，每个模块负责特定功能：

- **voyage-core.js**: 场景初始化、相机控制、渲染循环
- **voyage-planets.js**: 太阳系创建、行星轨道、演化效果
- **voyage-earth.js**: 地球模型、大气层、行星发动机
- **voyage-animation.js**: 时间线管理、相机动画、粒子效果
- **voyage-main.js**: 模块集成、状态管理、用户交互

## 🎯 核心功能

### 1. 认证系统
- MOSS 风格的终端界面
- 打字机效果和光标动画
- 粒子转场效果

### 2. 航程动画
- 太阳系 3D 场景构建
- 电影级镜头推进
- 星空和星云背景
- 平滑的相机运动

### 3. 地球演化
- 多阶段轨道变化
- 行星发动机视觉效果
- 大气层和城市灯光
- 木星引力助推模拟

### 4. 时间线系统
- 2019-4500 年的完整时间跨度
- 关键事件节点标记
- 实时场景更新
- 可交互的时间控制

## 🎨 视觉设计

### 色彩方案
- **主背景**: `#000000` (深空黑)
- **UI 主色**: `#00FFFF` (科幻青)
- **高亮色**: `#FFFFFF` (纯白)
- **地球辉光**: `rgba(100, 200, 255, 0.8)` (蓝色光晕)

### 特效系统
- **辉光效果**: 所有 UI 元素的核心视觉风格
- **粒子系统**: 星空、转场、发动机喷射
- **平滑过渡**: 无缝的场景切换和动画

## 🔧 开发说明

### 本地开发
1. 克隆项目到本地
2. 启动 HTTP 服务器（必须，因为使用了模块化 JS）
3. 在浏览器中访问对应页面

### 文件依赖
项目使用外部 CDN 资源：
- Three.js: https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js
- OrbitControls: https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js

### 浏览器兼容性
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 📊 性能特性

- **模块化加载**: 按需加载，减少初始包大小
- **渲染优化**: 智能帧率控制和资源管理
- **内存管理**: 自动清理和资源释放
- **响应式设计**: 适配不同屏幕尺寸

## 🎪 演示功能

访问不同页面体验不同功能：

1. **完整体验** (`index.html`): 从登录到航程的完整流程
2. **直接演示** (`voyage-refactored.html`): 跳过登录直接进入 3D 场景
3. **功能测试** (`test-refactored.html`): 模块加载和功能验证

## 📝 更新日志

### v2.0 - 模块化重构
- 将 2100+ 行单文件拆分为 5 个专业模块
- 实现完全的依赖解耦和函数式编程
- 添加兼容层确保向后兼容
- 优化性能和内存管理

### v1.0 - 初始版本
- 基础 3D 场景和动画系统
- 完整的用户交互流程
- 时间线和地球演化功能

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

## 📄 许可证

MIT License - 详见 LICENSE 文件

---

*在这个数字化的流浪征程中，每一帧画面都承载着人类文明的希望与坚持。*
